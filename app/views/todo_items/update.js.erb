
// remove the button and change the title and date to green

$('.todo_item_title, .todo_item_date', '#todo_item_<%= @todo_item.id%>').removeClass('incomplete').addClass('complete');

$('#todo_item_<%= @todo_item.id%>').find('.todo_item_status_changer').remove();
// todo_list stuff

<%is_done = (@todo_list.todo_items == nil ||
        @todo_list.todo_items.length == 0 ||
        @todo_list.todo_items.select {|item| item.done?}.length == @todo_list.todo_items.length)

if (is_done) %>

// change the todo_list stuff to green
$('span.header-title, span.header-date').removeClass('incomplete').addClass('complete');

<% end %>